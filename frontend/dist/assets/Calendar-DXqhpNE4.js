import{j as s,a as x,c as g,H as u,B as j}from"./index-Oq4_Z5Dz.js";import{h as f}from"./handleImageError-DYzZusFE.js";import{C as v}from"./ContentNotFound-CFBuExWZ.js";import{L as b}from"./LabelIcon-BCo74keP.js";function w(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:21,height:24,fill:"none",children:s.jsx("path",{d:"M20.523 16.642v-15c0-.594-.477-1.072-1.071-1.072H4.809A4.287 4.287 0 0 0 .523 4.856v14.286a4.287 4.287 0 0 0 4.286 4.285h14.643c.594 0 1.071-.477 1.071-1.071v-.714a1.08 1.08 0 0 0-.397-.835c-.187-.688-.187-2.647 0-3.335.241-.192.397-.495.397-.83ZM6.238 6.552c0-.147.12-.267.268-.267h9.464c.147 0 .268.12.268.267v.893c0 .148-.12.268-.268.268H6.506a.269.269 0 0 1-.268-.268v-.893Zm0 2.858c0-.148.12-.268.268-.268h9.464c.147 0 .268.12.268.268v.893c0 .147-.12.267-.268.267H6.506a.269.269 0 0 1-.268-.268V9.41ZM17.55 20.57H4.81c-.791 0-1.43-.638-1.43-1.428 0-.786.643-1.429 1.43-1.429h12.74a16.075 16.075 0 0 0 0 2.857Z"})})}function k(){var a;const{data:n,loading:c,error:t}=x();if(t)return s.jsxs("div",{className:"error",children:["Ошибка: ",t]});const[o,l]=g.useState(null);function d(e){if(!e)return"#fff";let r=e.replace("#","");r.length===3&&(r=r.split("").map(i=>i+i).join(""));const p=parseInt(r.substring(0,2),16),m=parseInt(r.substring(2,4),16),h=parseInt(r.substring(4,6),16);return(p*299+m*587+h*114)/1e3>128?"#000":"#fff"}return s.jsxs("div",{className:"content main-content",children:[s.jsx(u,{title:"Остальные курсы",svg:s.jsx(w,{})}),s.jsx("div",{className:"wrapper events-wrapper",children:c?s.jsx("div",{className:"loading",children:"Загрузка событий..."}):(a=n==null?void 0:n.events)!=null&&a.length?n.events.map(e=>{const r=o===e.id;return s.jsxs("div",{className:"card event-card",children:[s.jsx("img",{src:e.image||"/images/default-event.png",alt:"Event preview",className:"event-image",onError:f("/images/default-event.png")}),s.jsxs("div",{className:"event-info",children:[s.jsx("p",{className:"event-title",children:e.title}),s.jsxs("div",{className:"event-show-more",children:[s.jsxs("div",{className:"tag",children:[s.jsx("div",{className:"icon-wrapper green",children:s.jsx(b,{})}),s.jsx("span",{className:"new-price",children:e.price})]}),e.description&&s.jsx(j,{type:r?"btn-dropdown btn-p12 expanded":"btn-dropdown btn-p12",onClick:()=>l(r?null:e.id),hasArrow:!0,text:"Подробнее"})]}),r&&s.jsx("p",{className:"event-description",children:e.description}),s.jsx("a",{href:e.link,target:"_blank",rel:"noreferrer",className:"btn btn-full-width btn-p12",style:{backgroundColor:e.button_color||"#246AFF",color:d(e.button_color)},children:e.button_text||"Открыть"})]}),s.jsx("hr",{})]},e.id)}):s.jsx(v,{message:"Нет материалов"})})]})}export{k as default};
