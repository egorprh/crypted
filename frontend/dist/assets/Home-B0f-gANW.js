import{j as s,c as w,a as N,b as f,r as b,H as y,B as x,d as C,A as _}from"./index-DYCZRz2Q.js";import{C as k}from"./ContentNotFound-BZ1eirPJ.js";import{M as H}from"./Modal-CN4K0Xw_.js";import{L as Z}from"./LockIcon-BlFINJz8.js";import{L}from"./LabelIcon-CPH28hmT.js";function M(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:12,fill:"none",children:s.jsx("path",{d:"M2.25 1.875a1.875 1.875 0 1 1 3.75 0 1.875 1.875 0 1 1 3.75 0v.004c0 .053 0 .203-.028.371h1.528A.75.75 0 0 1 12 3v.75a.75.75 0 0 1-.75.75H.75A.75.75 0 0 1 0 3.75V3a.75.75 0 0 1 .75-.75h1.529a2.226 2.226 0 0 1-.029-.37v-.005Zm.801.375H5.25v-.375a1.125 1.125 0 1 0-2.25 0c0 .064.002.205.034.322.004.018.01.036.017.053Zm3.699 0h2.199a.419.419 0 0 0 .017-.053C9 2.08 9 1.94 9 1.875a1.125 1.125 0 0 0-2.25 0v.375Zm4.5 3v5.625A1.125 1.125 0 0 1 10.125 12H6.75V5.25h4.5ZM1.875 12A1.125 1.125 0 0 1 .75 10.875V5.25h4.5V12H1.875Z"})})}function V(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:103,height:103,fill:"none",children:s.jsx("path",{d:"M90.125 92.27V103h-77.25V92.27c0-10.278 8.09-18.625 18.227-19.2l11.814 19.2L51.5 79.395l8.583 12.875 11.815-19.2c10.137.575 18.227 8.926 18.227 19.2ZM29.492 17.282c6.562-6.15 15.154-9.188 24.162-8.63 16.84 1.09 30.038 15.746 30.038 33.363 0 7.596-6.176 13.772-13.772 13.772H59.594c-1.047-3.558-4.3-6.176-8.197-6.176a8.58 8.58 0 0 0-8.584 8.584 8.58 8.58 0 0 0 8.584 8.583 8.535 8.535 0 0 0 5.94-2.408H69.92c12.325 0 22.355-10.03 22.355-22.355C92.27 19.887 75.55 1.467 54.204.09 42.77-.653 31.925 3.23 23.62 11.025c-7.67 7.188-12.278 17.15-12.832 27.604h8.596c.528-8.167 4.069-15.686 10.107-21.347Zm35.35 29.973.228-.047h5.605c2.15 0 4.03-1.58 4.279-3.717a24.23 24.23 0 0 0-.39-7.858c-1.906-8.922-9.146-16.12-18.082-17.956-15.18-3.12-28.578 8.455-28.578 23.093 0 6.305 2.485 12.039 6.524 16.274.476-9.055 7.9-16.274 17.076-16.274 5.42 0 10.193 2.563 13.339 6.485Z"})})}function A(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:103,height:103,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:11,height:11,children:s.jsx("path",{d:"M11 3.67v5.5h-.917V4.26L6.472 6.59a1.784 1.784 0 0 1-1.944 0L0 3.67 4.528.747a1.788 1.788 0 0 1 1.944 0L11 3.67ZM5.5 7.793c-.52 0-1.03-.151-1.467-.434l-2.2-1.418V9.36l.135.134c.043.043 1.079 1.051 3.532 1.051 2.453 0 3.49-1.008 3.532-1.05l.135-.135V5.942l-2.2 1.418a2.701 2.701 0 0 1-1.467.434Z"})})})}function G(){var p;const l=w(),{data:a,loading:m,error:r,user:i}=N(),{surveyPassed:t}=f(),[n,d]=b.useState(null),j=(i==null?void 0:i.id)||0,v=e=>{fetch("/api/course_viewed",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseId:e.id,userId:j})}).catch(console.error),e.direct_link?window.open(e.direct_link,"_blank"):l(`/lessons/${e.id}`)},g=e=>{const c={popup_title:"Бесплатная консультация с аналитиком",popup_desc:"После полного прохождения курса, вам будет доступен созвон с аналитиком, для определения вашей торговой системы."};d({title:e.popup_title||c.popup_title,desc:e.popup_desc||c.popup_desc})},o=()=>{d(null)};return r?s.jsxs("div",{className:"error",children:["Ошибка: ",r]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"courses-wrapper content main-content",children:[s.jsx(y,{}),s.jsxs("section",{className:"courses",children:[(a==null?void 0:a.enter_survey)&&!t&&s.jsxs("div",{className:"card white-header-card survey-banner",onClick:()=>l("/lessons/enter-survey"),children:[s.jsx("div",{className:"card-header",children:s.jsx("img",{src:"/images/logo-primary.png",alt:"Course",className:"logo"})}),s.jsxs("div",{className:"card-body",children:[s.jsx("div",{className:"d-flex card-title-wrapper",children:s.jsx("p",{className:"card-title",children:"Входное тестирование"})}),s.jsx("p",{className:"card-text",children:"Прежде чем начать обучение, необходимо пройти тест, который определит твой уровень в трейдинге."}),s.jsx("div",{className:"card-footer",children:s.jsx(x,{type:"btn-white btn-full-width btn-flex",text:"Начать",hasArrow:!0})})]})]}),m?s.jsx("div",{className:"loading",children:"Загрузка курсов..."}):(p=a==null?void 0:a.courses)!=null&&p.length?a.courses.map(e=>{var c,h;return s.jsxs("div",{className:"course-card",onClick:()=>v(e),children:[s.jsxs("div",{className:"course-header",children:[s.jsx("img",{src:e.image||"/images/default-event.png",alt:"Course",className:"course-header-img"}),s.jsx("div",{className:"course-header-overlay",children:s.jsxs("div",{className:"badges",children:[s.jsxs("div",{className:"d-flex",children:[s.jsx("div",{className:"icon-wrapper accent",children:((c=e.lessons)==null?void 0:c.length)??e.lessons_count??0}),"Видеоуроков"]}),((h=e.lessons)==null?void 0:h.length)>0&&s.jsxs("div",{className:"d-flex",children:[s.jsx("div",{className:"hw-icon icon-wrapper accent",children:s.jsx(A,{})}),"Домашние задания"]})]})})]}),s.jsxs("div",{className:"course-body",children:[s.jsxs("div",{className:"d-flex course-title-wrapper card-title-wrapper",children:[s.jsx("p",{className:"course-title",children:e.title}),s.jsxs("div",{className:"tag",children:[(e.newprice||e.oldprice)&&s.jsx("div",{className:"icon-wrapper",children:s.jsx(L,{})}),e.oldprice&&s.jsx("span",{className:"old-price",children:e.oldprice}),e.newprice&&s.jsx("span",{className:"new-price",children:e.newprice})]})]}),s.jsx("div",{className:"course-description",children:e.description}),s.jsxs("div",{className:"course-footer",children:[e.has_popup&&s.jsxs("div",{className:"btn icon gift-btn",onClick:u=>{u.stopPropagation(),g(e)},children:[s.jsx("div",{className:"gift-icon-wrapper",children:s.jsx(M,{})}),"Подарок от dept."]}),s.jsxs("span",{className:"start-btn btn",children:[s.jsx("span",{className:"icon-wrapper",children:s.jsx(C,{})}),"Начать курс",s.jsx(_,{})]})]})]}),s.jsx("hr",{})]},e.id)}):s.jsx(k,{message:"Курсы не найдены"})]})]}),(a==null?void 0:a.enter_survey)&&!t&&s.jsx("div",{"data-blur":"true",children:s.jsx(Z,{})}),n&&s.jsx(H,{className:"gift-modal",onClose:o,children:s.jsxs("div",{className:"popup-content",children:[s.jsx("div",{className:"popup-image",children:s.jsx(V,{})}),s.jsx("h3",{children:n.title}),s.jsx("p",{className:"text-gray-200",children:n.desc}),s.jsx(x,{onClick:o,type:"btn-accent",text:"Понятно"})]})})]})}export{G as default};
