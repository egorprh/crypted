import{j as s,f as T,d as k,u as C,a as L,c as l,O as S}from"./index-BduiCrXO.js";import{B}from"./BackIcon-DSoigt8H.js";const E=({buttons:e,activeTab:a,onTabChange:o})=>s.jsx("div",{className:"tabs",children:e.map(t=>s.jsx("button",{className:a===t.value?"active":"",onClick:()=>o(t.value),children:t.label},t.value))}),$=[{label:"Контент",value:"content"},{label:"Материал",value:"materials"},{label:"Домашка",value:"quiz"}],I={btns:$};function P(){const{courseId:e,lessonId:a}=T(),o=k(),t=C(),{data:i,loading:f,error:m}=L(),[v,g]=l.useState(null),[c,x]=l.useState(""),p=t.pathname.split("/"),r=p[p.length-1];if(l.useEffect(()=>{var n,h;if(!f&&i){const u=(n=i.courses)==null?void 0:n.find(d=>String(d.id)===e),b=(h=u==null?void 0:u.lessons)==null?void 0:h.find(d=>String(d.id)===a);b?g(b):console.error("Урок не найден")}},[i,f,e,a]),l.useEffect(()=>{r&&r!==c&&x(r)},[t.pathname,c]),m)return s.jsxs("div",{className:"page-container content",children:["Ошибка: ",m]});if(!v)return s.jsx("div",{className:"page-container content",children:"Урок не найден"});const j={lesson:v,courseId:e,lessonId:a},N=n=>{n!==c&&(x(n),o(`/lessons/${e}/${a}/${n}`))};return s.jsxs("div",{className:"content",children:[s.jsxs("div",{onClick:()=>o(`/lessons/${e}`),className:"back-link",children:[s.jsx(B,{}),"Назад"]}),s.jsx(E,{buttons:I.btns,activeTab:c,onTabChange:N}),s.jsx(S,{context:j})]})}export{P as default};
