import{c as p,e as f,a as h,r as t,j as s,L as v,H as N,d as k,A as C}from"./index-DkNEoGFQ.js";import{B as E}from"./BackIcon-C0nCGIJQ.js";import{h as L}from"./handleImageError-DYzZusFE.js";import{C as b}from"./ContentNotFound-CvbyH3gV.js";function D({user:w}){const u=p(),{courseId:c}=f(),{data:o,loading:n,error:i}=h(),[e,l]=t.useState([]),[x,d]=t.useState(""),[j,m]=t.useState("");return t.useEffect(()=>{if(!n&&o){const a=(o.courses||[]).find(g=>String(g.id)===c);a?(d(a.title),m(a.description),l(a.lessons)):(console.warn("Курс не найден"),l([]),d(""),m(""))}},[o,n,c]),i?s.jsxs("div",{className:"error",children:["Ошибка: ",i]}):s.jsxs("div",{className:"page-container content",children:[s.jsxs(v,{to:"/",className:"back-link",children:[s.jsx(E,{}),"Назад"]}),s.jsxs("div",{className:"welcome",children:[s.jsx(N,{title:x,svg:s.jsx(k,{})}),s.jsx("p",{className:"text-gray-200",children:j})]}),e!=null&&e.length?e==null?void 0:e.map((r,a)=>s.jsxs("div",{className:"lesson-block",children:[s.jsxs("div",{className:"badge lesson-badge",children:["Урок ",a+1]}),s.jsxs("div",{className:"lesson-card",onClick:()=>u(`/lessons/${c}/${r.id}/content`),children:[s.jsxs("div",{className:"info",children:[s.jsx("img",{src:r.image||"/images/default-event.png",alt:"",onError:L()}),s.jsx("span",{children:r.title})]}),s.jsx("div",{className:"arrow",children:s.jsx(C,{})})]})]},r.id)):s.jsx(b,{message:"Уроки не найдены"})]})}export{D as default};
